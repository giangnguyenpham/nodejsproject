{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\NodeJS_React\\\\nodejsproject\\\\projectdemo_client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\NodeJS_React\\\\nodejsproject\\\\projectdemo_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"E:\\\\NodeJS_React\\\\nodejsproject\\\\projectdemo_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\NodeJS_React\\\\nodejsproject\\\\projectdemo_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\NodeJS_React\\\\nodejsproject\\\\projectdemo_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\NodeJS_React\\\\nodejsproject\\\\projectdemo_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\NodeJS_React\\\\nodejsproject\\\\projectdemo_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"E:\\\\NodeJS_React\\\\nodejsproject\\\\projectdemo_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"E:\\\\NodeJS_React\\\\nodejsproject\\\\projectdemo_client\\\\src\\\\components\\\\login\\\\Login.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './login.css';\nimport { Link, Redirect } from \"react-router-dom\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      isError: {\n        res: false,\n        message: \"\"\n      },\n      redirect: false\n    };\n    _this._login = _this._login.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"_login\",\n    value: function () {\n      var _login2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var tel, password, params, result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                tel = this.refs.phone.value;\n                password = this.refs.password.value;\n                params = new URLSearchParams();\n                result = 0;\n                params.append('tel', tel);\n                params.append('password', password);\n                _context.next = 8;\n                return axios.post('http://localhost:9000/api/login', params, {\n                  headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded'\n                  }\n                }).then(function (res) {\n                  result = 1;\n                }).catch(function (error) {\n                  // handle error\n                  console.log(error);\n                });\n\n              case 8:\n                if (result == 1) {\n                  this.setState({\n                    redirect: true\n                  });\n                } else {\n                  alert('error');\n                }\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _login() {\n        return _login2.apply(this, arguments);\n      }\n\n      return _login;\n    }()\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      // get our form data out of state\n      console.log('Start login'); // e.preventDefault();  \n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var redirect = this.state.redirect;\n\n      if (redirect) {\n        return React.createElement(Redirect, {\n          to: \"/list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"login-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, this.state.isError.res ? React.createElement(\"strong\", {\n        className: \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, this.state.isError.message) : null, React.createElement(\"h2\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"\\u0110\\u0102NG NH\\u1EACP\"), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-control\",\n        type: \"text\",\n        name: \"phone\",\n        ref: \"phone\",\n        placeholder: \"Nh\\u1EADp s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n        required: \"required\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-control\",\n        type: \"password\",\n        name: \"password\",\n        ref: \"password\",\n        placeholder: \"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\",\n        required: \"required\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        onClick: this._login,\n        className: \"btn btn-primary btn-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"\\u0110\\u0103ng nh\\u1EADp\"))), React.createElement(\"p\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Create an Account\"))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport { Login as default };","map":{"version":3,"sources":["E:\\NodeJS_React\\nodejsproject\\projectdemo_client\\src\\components\\login\\Login.js"],"names":["React","Component","axios","Link","Redirect","Login","props","state","isError","res","message","redirect","_login","bind","handleSubmit","tel","refs","phone","value","password","params","URLSearchParams","result","append","post","headers","then","catch","error","console","log","setState","alert"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport './login.css';\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nexport default class Login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isError: {\r\n                res: false,\r\n                message: \"\"\r\n            },\r\n            redirect: false\r\n        };\r\n        this._login = this._login.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    async _login() {\r\n        let tel = this.refs.phone.value;\r\n        let password= this.refs.password.value;\r\n        const params = new URLSearchParams();\r\n        let result = 0;\r\n        params.append('tel', tel);\r\n        params.append('password', password);\r\n        await axios.post('http://localhost:9000/api/login', params,{\r\n            headers: {\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n            }\r\n        })\r\n        .then(function (res) {\r\n           result = 1;\r\n        })\r\n        .catch(function (error) {\r\n            // handle error\r\n            console.log(error);\r\n        });\r\n        if (result == 1) {\r\n            this.setState({redirect: true});\r\n        } else {\r\n            alert('error');\r\n        }\r\n    }\r\n\r\n    handleSubmit() {\r\n        // get our form data out of state\r\n        console.log('Start login');\r\n\r\n        // e.preventDefault();  \r\n    }\r\n\r\n    render() {\r\n        const { redirect } = this.state;\r\n\r\n        if (redirect) {\r\n            return <Redirect to='/list'/>;\r\n        }\r\n\r\n        return (\r\n            <div className=\"login-form\">\r\n                <div className=\"content\">\r\n                    <form>\r\n                        {(this.state.isError.res) ? <strong className=\"error\">{this.state.isError.message}</strong> : null}\r\n                        <h2 className=\"title\">ĐĂNG NHẬP</h2>\r\n                        <div className=\"form-group\">\r\n                            <input className=\"form-control\" type=\"text\" name=\"phone\" ref=\"phone\" placeholder=\"Nhập số điện thoại\" required=\"required\"/>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input className=\"form-control\" type=\"password\" name=\"password\" ref=\"password\" placeholder=\"Nhập mật khẩu\" required=\"required\"/>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <button type=\"button\" onClick={this._login} className=\"btn btn-primary btn-block\">Đăng nhập</button>\r\n                        </div>\r\n                    </form>\r\n                    \r\n                    <p className=\"text-center\"><Link to=\"/register\">Create an Account</Link></p>\r\n                    \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\n  "]},"metadata":{},"sourceType":"module"}